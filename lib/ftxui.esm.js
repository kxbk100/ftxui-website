import{openBlock as e,createBlock as t,createVNode as l,computed as n,createCommentVNode as o,renderSlot as s,Fragment as a,defineComponent as c,ref as i,onMounted as r,watchEffect as u,renderList as d,toDisplayString as f,resolveDynamicComponent as v,resolveComponent as p,Teleport as b,withCtx as m,createTextVNode as y,createApp as g,h as k}from"vue";var x={props:{value:Boolean},setup:(e,t)=>({toggle:()=>{t.emit("update:value",!e.value)}})};const C=l("span",null,null,-1);x.render=function(l,n,o,s,a,c){return e(),t("button",{class:["ftx-switch",{"ftx-checked":o.value}],onClick:n[1]||(n[1]=(...e)=>s.toggle(...e))},[C],2)},x.__file="src/lib/Switch.vue";var h={props:{theme:{type:String,default:"button"},size:{type:String,default:"normal"},level:{type:String,default:"normal"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(e){const{theme:t,size:l,level:o}=e;return{classes:n((()=>({["ftx-theme-"+t]:t,["ftx-size-"+l]:l,["ftx-level-"+o]:o})))}}};const B={key:0,class:"ftx-loadingIndicator"};h.render=function(l,n,a,c,i,r){return e(),t("button",{class:["ftx-button",c.classes],disabled:a.disabled},[a.loading?(e(),t("span",B)):o("v-if",!0),s(l.$slots,"default")],10,["disabled"])},h.__file="src/lib/Button.vue";const _={render:function(n,c){return e(),t(a,null,[o(" 不需要检查slot内容 所以直接写slot就可以了 "),l("div",null,[s(n.$slots,"default")])],64)},__file:"src/lib/Tab.vue"};var w=Object.assign;var O=c(w(w({},{props:{selected:{type:String}}}),{props:{selected:{type:String,required:!0}},setup:function(e,t){const l=i(null),o=i(null),s=i(null);r((()=>{u((()=>{const{width:e}=l.value.getBoundingClientRect();o.value.style.width=e+"px";const{left:t}=s.value.getBoundingClientRect(),{left:n}=l.value.getBoundingClientRect(),a=n-t;o.value.style.left=a+"px"}),{flush:"post"})}));const a=t.slots.default();a.forEach((e=>{if(e.type.name!==_.name)throw new Error("Tabs 子标签必须是 Tab")}));const c=n((()=>a.find((t=>t.props.title===e.selected)))),d=a.map((e=>e.props.title));return{selectedItem:l,indicator:o,container:s,defaults:a,current:c,titles:d,select:e=>{t.emit("update:selected",e)}}}}));const S={class:"ftx-tabs"},T={class:"ftx-tabs-nav",ref:"container"},$={class:"ftx-tabs-nav-indicator",ref:"indicator"},z={class:"ftx-tabs-content"};O.render=function(n,s,c,i,r,u){return e(),t("div",S,[l("div",T,[o(" 使用v-for就要写key "),(e(!0),t(a,null,d(i.titles,((l,n)=>(e(),t("div",{class:["ftx-tabs-nav-item",{selected:l===c.selected}],ref:e=>{l===c.selected&&(i.selectedItem=e)},onClick:e=>i.select(l),key:n},f(l),11,["onClick"])))),128)),l("div",$,null,512)],512),l("div",z,[o(" 虚拟节点需要用component is来展示 "),o(" 用component实现一个slot "),o(" 嵌套渲染插槽的时候可以这么写 "),(e(),t(v(i.current),{key:i.current.props.title}))])])},O.__file="src/lib/Tabs.vue";var E={props:{visible:{type:Boolean,default:!1},closeOnClickOverlay:{type:Boolean,default:!0},ok:{type:Function},cancel:{type:Function}},components:{Button:h},setup(e,t){const l=()=>{t.emit("update:visible",!1)};return{close:l,onClickOverlay:()=>{e.closeOnClickOverlay&&l()},ok:()=>{var t;!1!==(null==(t=e.ok)?void 0:t.call(e))&&l()},cancel:()=>{var t;null==(t=e.cancel)||t.call(e),l()}}}};const I={class:"ftx-dialog-wrapper"},R={class:"ftx-dialog"},D=y("OK"),F=y("Cancel");E.render=function(n,a,c,i,r,u){const d=p("Button");return c.visible?(e(),t(b,{key:0,to:"body"},[l("div",{class:"ftx-dialog-overlay",onClick:a[1]||(a[1]=(...e)=>i.onClickOverlay(...e))}),l("div",I,[l("div",R,[l("header",null,[s(n.$slots,"title"),l("span",{onClick:a[2]||(a[2]=(...e)=>i.close(...e)),class:"ftx-dialog-close"})]),l("main",null,[s(n.$slots,"content")]),l("footer",null,[l(d,{level:"main",onClick:i.ok},{default:m((()=>[D])),_:1},8,["onClick"]),l(d,{onClick:i.cancel},{default:m((()=>[F])),_:1},8,["onClick"])])])])])):o("v-if",!0)},E.__file="src/lib/Dialog.vue";const j=e=>{const{title:t,content:l,ok:n,cancel:o}=e,s=document.createElement("div");document.body.appendChild(s);const a=g({render:()=>k(E,{visible:!0,"onUpdate:visible":e=>{!1===e&&(a.unmount(s),s.remove())},ok:n,cancel:o},{title:t,content:l})});a.mount(s)};export{h as Button,E as Dialog,x as Switch,_ as Tab,O as Tabs,j as openDialog};
